<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" 
    "http://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
<title>LuaSocket: Network support for the Lua language </title>
<link rel="stylesheet" href="reference.css" type="text/css">
</head>

<body>

<!-- header +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

<div class=header>
<hr>
<center>
<table summary="LuaSocket logo">
<tr><td align=center><a href="http://www.lua.org">
<img border=0 alt="LuaSocket" src="luasocket.png">
</a></td></tr>
<tr><td align=center valign=top>Network support for the Lua language
</td></tr>
</table>
<p class=bar>
<a href="home.html">home</a> &middot;
<a href="home.html#download">download</a> &middot;
<a href="introduction.html">introduction</a> &middot;
<a href="reference.html">reference</a> 
</p>
</center>
<hr>
</div>

<!-- whatis +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

<h2 id=whatis>What is LuaSocket?</h2>

<p>
LuaSocket  is a  <a href="http://www.lua.org">Lua</a>  extension library
that is composed by two parts: a C core that provides  support for the TCP
and UDP transport layers, and a set of Lua modules that add support for
functionality commonly needed by applications that deal with the Internet. 
</p>

<p>
The core support has been  implemented so that it  is both efficient and
simple to use.  The core can be used by any Lua application once it has
been properly initialized by the interpreter running the
Lua application.  The code has been tested and runs well on several Windows
and Unix platforms. 
</p>

<p>
The most used modules implement the SMTP (sending  e-mails),  HTTP
(WWW access)  and  FTP  (uploading  and downloading files) client
protocols. These provide a very natural and generic interface to the e
functionality covered by the protocols. 
In addition, you will find that the MIME (common encodings), URL (anything you
could possible want to do with one) and LTN12 (filters, sinks, sources
and pumps) modules can be very handy. 
</p>

<p>
The library is available under the same  
<a href="http://www.lua.org/copyright.html">
terms and conditions</a> as the Lua language, the MIT license. The idea is
that if you can use Lua in a project, you should also be able to use 
LuaSocket.
</p>

<p>
Copyright &copy; 1999-2004 Tecgraf/PUC-Rio. All rights reserved. <br>
Author: <A href="http://www.cs.princeton.edu/~diego">Diego Nehab</a>
</p>

<!-- download +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

<h2 id=download>Download</h2>

<p>
LuaSocket version  2.0 beta is now  available for download! It  is
compatible with   Lua&nbsp;5.0   and   has    been   tested   on
Windows&nbsp;XP, Linux, and Mac OS X. 
</p>

<p>
The library can be downloaded in source code from the following links: 
</p>

<blockquote>
<p>
<a href="luasocket-2.0-beta.tar.gz">luasocket-2.0-beta.tar.gz</a> <br>
<a href="luasocket-2.0-beta.zip">luasocket-2.0-beta.zip</a>
</p>
</blockquote>

<p>
Besides the full C and Lua source code for the library, the distribution
contains several examples, this user's manual and the test procedures.
</p>

<p>
I  am also  providing  a Windows  binary  for those  that  want to  give
LuaSocket a quick try: 
</p>

<blockquote>
<p>
<a href="luasocket-2.0.exe">luasocket-2.0.exe</a>
</p>
</blockquote>

<p>
This  binary has been compiled  with the <tt>LUASOCKET_DEBUG</tt>
option, and  should be able to run the automatic test procedures.
</p>

<!-- thanks +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

<h2 id=thanks>Special thanks</h2>

<p>
Throughout LuaSocket's history, many people gave suggestions that helped
improve it. For that, I thank the Lua community. 
Special thanks go to
David Burgess, who has helped push the library to a new level of quality and
from whom I have learned a lot of stuff that doesn't show up in RFCs.
Special thanks also to Carlos Cassino, who played a big part in the 
extensible design seen in the C core of LuaSocket 2.0. 
</p>

<!-- whatsnew +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

<h2 id=new>What's New</h2>


<p>
<em>Everything</em> is new! Many changes for  2.0 happened in the C layer, 
which has been almost completely rewritten. The code has been ported to 
Lua 5.0 and greatly improved.  There have also been some API changes
that made  the interface simpler and  more consistent. Here are  some of
the changes that made it into version 2.0: 
</p>

<ul>
<li> Major C code rewrite. Code is modular and extensible. Hopefully, other
     developers will be motivated to provide code for SSL, local domain 
     sockets, file descriptors, pipes (on Unix) and named pipes etc;

<li> Everything that is exported by the library is exported inside 
     namespaces. These should be obtained with calls to the
    <tt>require</tt> function; 

<li> Functions such as
     send/receive/timeout/close etc do not exist anymore as stand-alone
     functions. They are now only available as methods of the appropriate
     objects;

<li> All functions return a non-nil value as first return value if successful.
     All functions return <b><tt>nil</tt></b> followed by error message
     in case of error. This made the library much easier to use; 

<li> Greatly reduced the number of times the C select is called 
     during data transfers, by calling only on failure. This might 
     improve a lot the maximum throughput;

<li> TCP has been changed to become more uniform.  It's possible to first
     create a TCP object,
     then connect or bind if needed, and finally use I/O functions. 
     <tt>socket.connect</tt> and <tt>socket.bind</tt> functions are still
     provided for simplicity; 

<li> This allows for setting a timeout value before connecting;

<li> And also allows binding to a local address before connecting; 

<li> New <tt>socket.dns.gethostname</tt> function and <tt>shutdown</tt>
     method;

<li> Better error messages and parameter checking;

<li> Should be interrupt safe; 

<li> UDP connected sockets can break association with peer by calling
     <tt>setpeername</tt> with address '<tt>*</tt>';

<li> Sets returned by <tt>socket.select</tt> are associative;

<li> Select checks if sockets have buffered data and returns immediately; 

<li> <tt>socket.sleep</tt> and <tt>socket.time</tt> are now part of the
     library and are supported. They used to be available only when
     LUASOCKET_DEBUG was defined, but it turns out they might be useful for
     applications;

<li> <tt>socket.try</tt> and <tt>socket.protect</tt> provide a simple
     interface to exceptions that proved very in the implementation of
     high-level modules; 

<li> Socket options interface has been improved. TCP objects also 
     support socket options and many new options were added.

</ul>

<p>
Lots of changes in the Lua modules, too! 
</p>

<ul>
<li> Every module loads only the modules that it needs. There is no waste
of memory. LuaSocket core takes only 20k of memory;

<li> New MIME and LTN12 modules make all other modules much more powerful; 

<li> Support for multipart messages in the SMTP module;

<li> The old callback mechanism of FTP and HTTP has been replaced with LTN12 sources and sinks, with advantage; 

<li> Common implementation for low-level FTP and SMTP;

<li> FTP, HTTP, and SMTP are implemented in multiple levels in such a way 
that users will have no problems extending the functionality to satisfy
personal needs; 

<li> SMTP knows how to perform LOGIN and PLAIN authentication. 

</ul>

<!-- incompatible +++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

<h3 id=incompatible>Incompatibilities with previous versions</h3>

<ul>

<li> The introduction of namespaces affects all programs that use LuaSocket,
specially code that relies on global functions. These are no longer
available. Note that even the support modules (<tt>http</tt>, <tt>smtp</tt>
etc) are independent now and should be "<tt>require</tt>"d; 

<li> FTP, SMTP and HTTP are completely new; I am sure you will
agree the new stuff is better; 

<li> WARNING: The new <tt>send</tt>, <tt><b>receive</b></tt>,
<tt>sendto</tt>, <tt>setpeername</tt> and <tt>setsockname</tt>, 
return convention WILL break old code; 

<li> To enable local binding before connect, the <tt>bind</tt> method 
    does not call <tt>listen</tt> anymore. It is the new <tt>listen</tt>
method that turns a TCP object into a server object; 

<li> Interface to options has changed.

</ul>

<!-- old ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

<h2 id=old>Old Versions</h2>

<p>
All  previous versions  of the  LuaSocket library  can be  downloaded 
<a href="http://www.tecgraf.puc-rio.br/luasocket/old">here</a>. Although
these  versions are  no longer  supported, they  are still available for
those that have compatibility issues. 
</p>

<!-- footer +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

<div class=footer>
<hr>
<center>
<p class=bar>
<a href="home.html#down">download</a> &middot;
<a href="introduction.html">introduction</a> &middot;
<a href="reference.html">reference</a>
</p>
<p>
<small>
Last modified by Diego Nehab on <br>
Sun Aug 10 01:36:26 PDT 2003
</small>
</p>
</center>
</div>

</body>
</html>
